{
  "hash": "7c7656099694bd2b290e9872ac675363",
  "result": {
    "markdown": "---\ntitle: Fish species size distributions in a changing climate\nauthor:\n  - name: Freddie J. Heather\n    orcid: 0000-0002-1650-2617\n    corresponding: true\n    email: freddie.heather@utas.edu.au\n    roles:\n      - Conception\n      - Analysis\n      - Visualisation\n      - Writing\n    affiliations:\n      - Institute for Marine and Antarctic Studies, University of Tasmania\n  - name: Shane Richards\n    orcid: 0000-0002-1650-2617\n    corresponding: false\n    email: freddie.heather@utas.edu.au\n    roles:\n      - Conception\n      - Statistics\n      - Writing\n    affiliations:\n      - School of Natural Sciences, University of Tasmania\n  - name: Asta Audzijonyte\n    orcid: 0000-0002-1650-2617\n    corresponding: false\n    email: freddie.heather@utas.edu.au\n    roles:\n      - Conception\n      - Analysis\n      - Visualisation\n    affiliations:\n      - Institute for Marine and Antarctic Studies, University of Tasmania\nkeywords:\n  - Fish body size\n  - Temperature size rule\n  - Empirical size distribution\n  - Body size distribution\nabstract: |\n  Abstract goes here\n\nkey-points:\n  - keypoint 1\n  - keypoint 2\ndate: last-modified\nbibliography: references.bib\ncsl: nature.csl\ncitation:\n  container-title: Nature\nnumber-sections: true\n---\n\n\n\n\n## Background {#sec-background}\n\nBody size is a key trait in determining how organisms interact with their environment, this is particularly true for marine organisms, where body size is a strong predictor of trophic position [@jennings_weak_2001], growth rate, and predation mortality[@goatley_body_2016]. Giometto et al. [-@giometto_scaling_2013], using the spherical diameter of unicellular protists, identified that the mean body size of a species, was sufficient to describe the entire body size distribution. The authors conjectured that this may hold for multicellular organisms. Here, we test this conjecture using 15 millon+ inidividuals from 1064 fish species.\n\n## Results & discussion {#sec-results-discussion}\n\n\n\n\n::: {.cell warning.hidden='true' message.hidden='true'}\n\n```{.r .cell-code .hidden}\nlibrary(readr)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code .hidden}\nlibrary(ggplot2)\n\nplot_data <- read_csv(\"ms_data/parameter_summary.csv\", show_col_types = FALSE)\nget_ci <- function(data_type, param, conf_level = 0.95, signif = 1) {\n  \n  vec <-\n    plot_data %>% \n    filter(type == data_type) %>% \n    pull(param) %>% \n    na.omit(vec)\n  sd <- sd(vec)\n  n <- length(vec)\n  se <- sd(vec)/sqrt(length(vec))\n  xx <- qt(1 - ((1 - conf_level) / 2), n - 1) * se\n  xx %>% \n    signif(signif)\n}\n\nget_mean <- function(data_type, param, signif = 2) {\n  \n  vec <-\n    plot_data %>% \n    filter(type == data_type) %>% \n    pull(param) %>% \n    na.omit(vec)\n  vec %>% \n    mean() %>% \n    signif(signif)\n}\n```\n:::\n\n\n\n\nWe found that the variance parameter of the lognormal distribution was constant across the fitted mean parameter of the lognormal distribution (@fig-param-regression A), further we found a consistent relationship between the standard deviation and the mean of the normal distribution fitted to observed body size (@fig-param-regression B). This is to say the mean size of the species is sufficient to describe the overall body size distribution. For both data sources, continuous and binned, we found the patterns between the mean and variance parameters of the lognormal distribution held, with sdlog = 0.39 $\\pm$ 0.007 (Reef Life Survey, binned data) and 0.3 $\\pm$ 0.03 (Cryptobenthic fish, continuous). For normal distribution, we found a consistent relationship\n\n![Mean size is sufficient to describe overall body size distribution.](ms_figures/param_regression.png){#fig-param-regression}\n\n## Methods {#sec-methods}\n\n### Body size data sources\n\nFish body size data were obtained through two sources: Reef Life Survey (RLS; 15M+ individuals, binned body size)[@edgar_systematic_2014], and Cryptobenthic reef fish (CBF; 8K+ individuals, continuous body size)[@brandl_demographic_2019].\n\nRLS surveys involve an underwater visual census method along 50m transect line, with a diver searching 5m either side of the transect line, the body size of the fish is estimated to the nearest body size bin (2.5, 5, 7.5, 10, 15, 20, 25, 30, ..., 400cm).\n\nThe second data source was from field collections using enclosed clove-oil stations at six reefs; Moorea, GoO, AG, Lizard Island, Panama, and Belize. Reef outcrops are selected, measured, and covered with a bell-shaped fine mesh and tarpaulin, before being sprayed with a clove-oil:ethanol solution (1:5). Fish are collected with tweezers and placed in ziplock bags. See Brandl et al.[@brandl_demographic_2019] for full methods.\n\n### Data filtering\n\nFor binned body size data, we excluded body size distributions that spanned fewer than four body size bins, we did not apply an exclusion for the continuous data based on the range of body sizes. For binned data we set a minimum count of 10 individuals per population to fit a distribution, for the binned data, this minimum count was 100. We performed a sensitivity analysis to these filtering parameters to show that across a range of filters for minimum count, the overall result did not substantially change.\n\n### Statistical analysis\n\nAll statistical analyses were performed using a combination of the statistical programming language R[@rcoreteam2022], and the statistical modelling language Stan[@standevelopmentteam2023] for all Bayesian analyses.\n\nContinuous body size distributions were\n\n## Conclusion\n\n::: {#refs}\n:::\n\n\n\n\n::: {.cell warning.hidden='true' message.hidden='true'}\n\n```{.r .cell-code .hidden}\ntibble(x = seq(0,6,by = 0.1)) %>% \n  mutate(fit1 = dnorm(x, mean = 3, sd = 0.8), \n         fit2 = dnorm(x, mean = 3, sd = 1.2)) %>% \n  ggplot(aes(x = x, \n             y = fit1)) +\n  geom_line() +\n  geom_line(aes(y = fit2), col = \"red\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-pdf/unnamed-chunk-2-1.pdf){fig-pos='H'}\n:::\n:::\n",
    "supporting": [
      "index_files\\figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}